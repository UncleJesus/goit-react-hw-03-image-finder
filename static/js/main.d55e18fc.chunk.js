(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{47:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(0),c=n(18),o=n.n(c),i=n(9),s=n(4),u=n(5),l=n(7),p=n(6),h=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={value:"",page:1},t.setQuery=function(e){e.preventDefault(),t.props.onSubmit(t.state.value,t.state.page)},t.handleChange=function(e){var n=e.target;t.setState({value:n.value})},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{className:"SearchForm",onSubmit:this.setQuery,children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",placeholder:"Search images and photos",onChange:this.handleChange,value:this.state.value})]})})}}]),n}(r.Component),j=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).setObj=function(e){t.props.openModal(e)},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return this.props.pictures.map((function(e){return Object(a.jsx)("li",{className:"ImageGalleryItem",onClick:function(){t.setObj(e.largeImageURL)},children:Object(a.jsx)("img",{src:e.webformatURL,alt:"",className:"ImageGalleryItem-image"})},e.id)}))}}]),n}(r.Component),b=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props,e=t.pictures;t.openModal;return Object(a.jsx)("ul",{className:"ImageGallery",children:Object(a.jsx)(j,{openModal:this.props.openModal,pictures:e})})}}]),n}(r.Component),m=function(t){var e=t.onClick;return Object(a.jsx)("button",{type:"button",onClick:e,className:"Button",children:"Load more..."})},d=n(19),g=n.n(d),f=(n(47),function(){return Object(a.jsx)(g.a,{className:"Loader",type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}),O=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.props.onClose)}},{key:"render",value:function(){return window.addEventListener("keydown",this.props.onClose),Object(a.jsx)("div",{onClick:this.props.onClick,className:"Overlay",children:Object(a.jsx)("div",{className:"Modal",children:Object(a.jsx)("img",{src:this.props.target,alt:""})})})}}]),n}(r.Component),v=n(20),y=n.n(v),x=function(t,e){return y.a.get("https://pixabay.com/api/?key=18951897-f7110a11ebc58b866f93acf70&q=".concat(t,"&image_type=photo&page=").concat(e,"&orientation=horizontal&per_page=12"))},C=(n(65),function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={pictures:[],loading:!1,error:null,query:"",page:1,target:"",isOpen:!1,height:0},t.componentDidUpdate=function(e,n){var a=n.query,r=t.state.query;a!==r?t.getFetch():a===r&&window.scrollTo({top:n.height-155,behavior:"smooth"})},t.onSubmit=function(e,n){t.setState({query:e,page:1,pictures:[]})},t.getFetch=function(){var e=t.state,n=e.query,a=e.page;t.setState({loading:!0}),x(n,a).then((function(e){t.setState((function(t){return{pictures:[].concat(Object(i.a)(t.pictures),Object(i.a)(e.data.hits)),page:t.page+1}}))})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({height:document.documentElement.scrollHeight,loading:!1})}))},t.openModal=function(e){t.setState({isOpen:!0,target:e})},t.onClick=function(){t.setState({isOpen:!1,target:""})},t.onClose=function(e){"Escape"===e.key&&t.onClick()},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(h,{onSubmit:this.onSubmit}),Object(a.jsx)(b,{openModal:this.openModal,pictures:this.state.pictures}),this.state.loading&&Object(a.jsx)(f,{}),this.state.pictures.length>0&&!this.state.loading&&Object(a.jsx)(m,{onClick:this.getFetch}),this.state.isOpen&&Object(a.jsx)(O,{onClick:this.onClick,onClose:this.onClose,target:this.state.target})]})}}]),n}(r.Component));o.a.render(Object(a.jsx)(C,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.d55e18fc.chunk.js.map